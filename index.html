<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Love</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000; /* Latar Hitam */
            font-family: 'Arial Black', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        #content-container {
            position: relative;
            z-index: 2;
            text-align: center;
            width: 100%;
            height: 100%;
        }

        /* Gaya Tulisan Dotted Putih Besar */
        .message {
            font-size: clamp(5rem, 15vw, 12rem); /* Ukuran sangat besar tapi responsif */
            font-weight: 900;
            color: white;
            /* Pola Dotted */
            background-image: radial-gradient(circle, white 35%, transparent 42%);
            background-size: 12px 12px;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            
            opacity: 0;
            display: none;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            white-space: nowrap;
        }

        /* Animasi Memecah & Menyatu */
        @keyframes assemble {
            0% { 
                opacity: 0; 
                letter-spacing: 100px; 
                transform: translate(-50%, -50%) scale(1.5); 
                filter: blur(15px); 
            }
            100% { 
                opacity: 1; 
                letter-spacing: 5px; 
                transform: translate(-50%, -50%) scale(1); 
                filter: blur(0); 
            }
        }

        .active {
            display: block;
            animation: assemble 1.8s cubic-bezier(0.19, 1, 0.22, 1) forwards;
        }

        /* Bagian Akhir: Love Besar */
        .final-container {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            animation: finalFade 2s ease-in forwards;
        }

        .heart-wrapper {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .big-heart {
            background-color: #ff85a1; /* Pink */
            height: 350px;
            width: 350px;
            transform: rotate(-45deg);
            position: relative;
            box-shadow: 0 0 80px rgba(255, 133, 161, 0.6);
        }

        .big-heart:before, .big-heart:after {
            content: "";
            background-color: #ff85a1;
            border-radius: 50%;
            height: 350px;
            position: absolute;
            width: 350px;
        }

        .big-heart:before { top: -175px; left: 0; }
        .big-heart:after { left: 175px; top: 0; }

        .final-text {
            position: absolute;
            z-index: 3;
            width: 450px;
            font-size: 2.2rem;
            color: #ff1493; /* Tulisan Pink */
            font-weight: bold;
            text-align: center;
        }

        .red-heart {
            color: #ff0000; /* Emote Hati Merah */
        }

        @keyframes finalFade {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }
    </style>
</head>
<body>

    <canvas id="rainCanvas"></canvas>

    <div id="content-container">
        <div class="message" id="m1">3</div>
        <div class="message" id="m2">2</div>
        <div class="message" id="m3">1</div>
        <div class="message" id="m4">YOU</div>
        <div class="message" id="m5">ARE</div>
        <div class="message" id="m6">MY</div>
        <div class="message" id="m7">LOVE</div>
        
        <div id="final" class="final-container">
            <div class="heart-wrapper">
                <div class="big-heart"></div>
                <div class="final-text">I Love <span class="red-heart">❤️</span> You Sayang</div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('rainCanvas');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Model Hujan: Satu karakter per kolom (I, L, O, V, E, Y, O, U, ❤️)
        const charList = ['I', 'L', 'O', 'V', 'E', 'Y', 'O', 'U', '❤️']; 
        const fontSize = 20;
        const columns = Math.floor(canvas.width / 30); // Jarak antar kolom lebih lebar
        const rainDrops = [];

        // Inisialisasi posisi dan karakter untuk setiap kolom
        for (let i = 0; i < columns; i++) {
            rainDrops.push({
                x: i * 30,
                y: Math.random() * canvas.height,
                char: charList[Math.floor(Math.random() * charList.length)],
                speed: 2 + Math.random() * 5
            });
        }

        function drawRain() {
            // Efek trail yang sangat halus
            ctx.fillStyle = 'rgba(0, 0, 0, 0.15)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.font = fontSize + 'px monospace';

            rainDrops.forEach(drop => {
                // Warna biru air transparan
                ctx.fillStyle = 'rgba(0, 212, 255, 0.8)';
                ctx.fillText(drop.char, drop.x, drop.y);

                // Update posisi
                drop.y += drop.speed;

                // Reset jika keluar layar
                if (drop.y > canvas.height) {
                    drop.y = -20;
                    drop.char = charList[Math.floor(Math.random() * charList.length)];
                }
            });
        }

        // Kontrol Transisi Teks
        const messages = ['m1', 'm2', 'm3', 'm4', 'm5', 'm6', 'm7'];
        let currentIndex = 0;

        function showNextMessage() {
            if (currentIndex < messages.length) {
                if (currentIndex > 0) {
                    document.getElementById(messages[currentIndex - 1]).classList.remove('active');
                    document.getElementById(messages[currentIndex - 1]).style.display = 'none';
                }
                
                const current = document.getElementById(messages[currentIndex]);
                current.classList.add('active');
                
                currentIndex++;
                setTimeout(showNextMessage, 3200); // Jeda per kata
            } else {
                // Sembunyikan kata terakhir dan munculkan Love Besar
                document.getElementById(messages[messages.length - 1]).classList.remove('active');
                setTimeout(() => {
                    document.getElementById(messages[messages.length - 1]).style.display = 'none';
                    document.getElementById('final').style.display = 'flex';
                }, 1000);
            }
        }

        function animate() {
            drawRain();
            requestAnimationFrame(animate);
        }

        animate();
        setTimeout(showNextMessage, 1000);

        window.onresize = () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        };
    </script>
</body>
</html>
